---
layout: post
title: Improve Code Quality Using Social Proof
---

bla bla [good intentions don't work](#good-intentions-dont-work)

## Random thoughts

**Goal**: I want to demonstrate that using SQ EE portfolios is the best way to increase
code quality in an enterprise.

**Takeaway**: The portfolios feature of SQEE / SCE is the best way to get teams to benchmark against each other.

**Why**: Sets social norms. You improve one/two teams, rest will follow.

**Audience**: those with SQ CE/DE licenses and reluctant to buy SQ EE.

**Story**: Improving code quality across an org is not simple because:

- Telling devs to improve code quality doesn't work
- Showing a dev/team their code quality doesn't work
  - There's always a tradeoff between speed and quality
  - We tried our best and our score is X.
  - What is "good"? Whatever manager says?
- Portfolios:
  - Compare across teams and over time
  - Both managers and teams have same view
  - Teams can compare with each other
    - Teams can bitch about each other -- "that team had it too easy/are different"
  - You can motivate teams to learn from each other
- How to get started: get one team onboard; show their work
- amplify: when we are unsure of what is best to do (uncertainty); when the evidence of what is best to do comes from numerous others (the many); and when that evidence comes from people like us (similarity).

**Anecdotes**:

- Advise _and_ help: every internal doc page in AWS had a feedback link while in JP they didn't
- _Learned helplessness_ - when people don't know how to debate/ask advice <-- forcing SQ reports on devs/teams; not giving them SonarLint
- Getting-started: get one team onboard, show their work -- my trip to Phuket with a friend, low season, empty restaurants, when we entered, a lot of others did too

## Notes and References

### Good Intentions Don't Work

During my tenure at Amazon, I learnt about a particular philosophy of solving
problems.

> “Good intentions never work, you need good mechanisms to make anything
> happen." -- Jeff Bezos (paraphrased)

Jeff Bezos---founder and long-time CEO of Amazon---observed that the
exhortations "do better" or "try harder" don't solve recurring problems. People
are _already_ doing their best. At best, people will pull in extra hours and
heroically rescue a bad situation. Ask them to do this too often, and your best
get burnt out and the remaining become cynical.

A recurring problem---as opposed to a one-off problem---is by definition a
_system_ problem. The solution is a change to the system. He coined the term
"mechanism" to describe the criteria for acceptable solutions.

You will find many descriptions and interpretations of Bezos' "mechanism"
concept on the internet. I can't vouch for their fidelity or correct
interpretation of the concept. Here are two links that are somewhat
authoritative.

- [AWS Well Architected Framework: Operational Readiness Review: Building
  mechanisms](https://docs.aws.amazon.com/wellarchitected/latest/operational-readiness-reviews/building-mechanisms.html):
  This particular page of an otherwise highly technical document contains a
  short description of a "mechanism" as used in Amazon.
- [How we leverage mechanisms at Amazon? - Zak Islam, Director of Engineering at
  AWS](https://www.youtube.com/watch?v=rIxFHQJhJ2Y): This ~30m YouTube video
  goes into more detail about mechanisms and how they are used within Amazon.

### Pitfalls of Performance Metrics

KPIs, OKRs, quantitative metrics, targets, and other quantitative metrics are
powerful tools, but when applied to knowledge work requiring high judgment, they
can easily cause lasting and deep damage. The key is to use them _judiciously_.

I wrote at length about this topic in a [previous article]({% post_url
2021-05-26-avoiding-pitfalls-metrics-performance %}).

### Popularity

Managers of a restaurant chain in Beijing partnered with researchers to figure
out how to get customers to choose certain menu items. Since they made and sold
more of these, it would be profitable for them to sell even more of them.
Instead of lowering prices, adding expensive ingredients or bringing in a
top-tier chef, they added the label “most popular” to those dishes. Sales of
those dishes shot up by 13 to 20 percent. Other labels like "Specialty of the
house" or "Chef's Recommentation" did not work as well or at all. Turns out,
people love what’s already loved. This cost them nothing, was totally ethical,
and as simple as reading a label! See [Cai _et al_. 2009. _"Observational
Learning: Evidence from a Randomized Natural Field Experiment"_. **American
Economic Review**](https://www.aeaweb.org/articles?id=10.1257/aer.99.3.864).

A brewery-pub in London started placing a sign on the bar stating, truthfully,
that its most popular beer that week was its porter. Porter sales doubled almost
immediately. See [Richard Shotton. 2018. _"The Choice Factory: 25 behavioural
biases that influence what we
buy"_](https://www.amazon.sg/Choice-Factory-behavioural-biases-influence/dp/085719609X).

Healthy eating: Dutch high school students increased fruit consumption by 35
percent—even though when told their peers eat fruit to keep healthy. They also
had claimed no intention to change upon receiving the information. See [Stok FM,
et al. 2014. _"Don't tell me what I should do, but what others do: the
influence of descriptive and injunctive peer norms on fruit consumption in
adolescents"_. National Center for Biotechnoly Information, National Library of
Medicine, **National Institutes of Health,
US**](https://pubmed.ncbi.nlm.nih.gov/23406475/).

Science-based recommendations: During the COVID-19 outbreak, researchers studied
the reasons Japanese citizens chose to wear face masks: only one reason made a
major difference in mask-wearing frequency: seeing other people wearing masks. See [Nakayachi _et al_. 2020. _"Why Do Japanese People Use Masks Against COVID-19"_. Sec. Personality and Social Psychology](https://www.frontiersin.org/journals/psychology/articles/10.3389/fpsyg.2020.01918/full).

### Feasibility

### Similarity
